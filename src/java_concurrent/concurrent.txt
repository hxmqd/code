volatile 保证共享变量的可见性
两条实现原则：
1.  Lock前缀指令会引起处理器缓存回写到内存
2.  一个处理器的缓存回写到内存会导致其他处理器的缓存无效

synchronized实现同步基础：
1. 对于普通同步方法，锁是当前实例对象
2. 对于静态同步方法，锁是当前类的Class对象
3. 对于同步方法块，锁是Synchonized括号里配置的对象

java对象头Mark word 里默认存储对象的HashCode、分代年龄和锁标记位
锁一共有4种状态：无锁状态、偏向锁状态、轻量级锁状态和重量级锁状态
